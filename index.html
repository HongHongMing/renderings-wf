<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>写意集团</title>
	<link rel="stylesheet" href="css/base.css">
	<link rel="stylesheet" href="css/renderings.css">
	<link rel="stylesheet" href="css/idangerous.swiper.css">
</head>
<style>
		.swiper-container {
			width: 100%;
		}
		.swiper-slide {
			display: block;
			width: 100%;
		}
		.swiper-slide img {
			display: block;
			width:100%;
		}
		.pagination {
		  position: absolute;
		  left: 0;
		  text-align: center;
		  bottom:5px;
		  width: 100%;
		}
		.swiper-pagination-switch {
		  display: inline-block;
		  width: 10px;
		  height: 10px;
		  border-radius: 10px;
		  background: #ffffff;
		  box-shadow: 0px 1px 2px #555 inset;
		  margin: 0 3px;
		  cursor: pointer;
		}
		.swiper-active-switch {
		  background: #CFDB00;
		}
	</style>
<body>
	<div id="header">
		<div class="nav clearfix">
			<img src="img/logo.jpg" class="logo">
			<!-- 头部 -->
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="about.html">About</a></li>
				<li class="active"><a href="renderings.html">Renderings</a></li>
				<li><a href="bim.html">BIM</a></li>
				<li><a href="animate.html">3D Animate</a></li>
				<li><a href="contact.html">Contact</a></li>
			</ul>
		</div>
	</div>
	
	<div id="mainContent">
		<div class="part part-1">
			<h2 class="title-h2">DIGITAL EFFECT DRAWING</h2>
		</div>
		<div class="swiper-container">
		     <div class="swiper-wrapper">
		       <a href="###" class="swiper-slide"> <img src="img/pade.jpg"> </a>
		        <a href="###" class="swiper-slide"> <img src="img/pade.jpg"> </a>
		        <a href="###" class="swiper-slide"> <img src="img/pade.jpg"> </a>
		     </div>
	     	<div class="pagination"></div>
		</div>

		<div class="swiper-container">
			<!-- <a href="###">
				<img src="img/swiper.jpg" alt="">
			</a> -->
		</div>
		<ul class="flow-list" id="flowList">
			<li>
				<!-- <div>
					<img src="img/p1.jpg" alt="">
					<div>
						<p>
							<span>图片标题图</span>
						</p>
					</div>
				<div> -->
			</li>
			<li class="center-list"></li>
			<li></li>
		</ul>
	</div>
	<div id="footer">
		<div class="contact-box">
			<h2 class="title-h2">CONTACT US</h2>
			<p>Email：eric@shining365.com</p>
			<p>Mobile Phone：86 138 1690 3400</p>
			<p>Tel：
				<a href="tel:021-65986866-304">+86 21 6598 6866-304</a> 
				<a href="tel:021-65983188-304">+86 21 6598 3188-304</a>
			</p>
		</div>
		<div class="copyright">
			Copyright © 1998-2015 shining Group
		</div>
	</div>
	<script src="js/idangerous.swiper.min.js"></script>
	<script>
		var mySwiper = new Swiper('.swiper-container',{
		    pagination: '.pagination',
		    loop:true,
		    grabCursor: true,
		    paginationClickable: true,
		    calculateHeight:true
		  })
	</script>
	<script type="text/javascript">
	    var flowList = document.getElementById('flowList');
		var liArr= flowList.children;
		//将图片和标题存起来
		var imgList = ["img/p1.jpg","img/p2.jpg","img/p3.jpg","img/p4.jpg","img/p5.jpg","img/p6.jpg","img/p7.jpg","img/p8.jpg","img/p9.jpg"];
		var context = ["图片标题图片标题图片标题图片标题图片标题图片标题图片标题图片标题","美丽的大兴安岭","桂林山水甲天下","岭南传奇","南越王","周公徒步，天下归心","三国演义","西游记","红楼梦","诗经"];
		
		//生成一个新的div，将div加入最短的列中
		function rand(min,max)
		{
			return parseInt(Math.random()*(max-min+1)+min);
		}
		function addElement()
			{var newli = document.createElement('div');
					newli.innerHTML = '<img src="'+imgList[rand(0,8)]+'" alt="">'+
										'<div>'+
											'<p>'+
											'<span>'+context[rand(0,9)] +'</span>'+
											'</p>'+
										'</div>';
				var minli = liArr[0];
				//比较得出最短的列将div加进去
				for (var i=1;i < liArr.length;i++)
				{
					if(minli.offsetHeight > liArr[i].offsetHeight)
					{
						minli = liArr[i];
					}
				}
				minli.appendChild(newli);
			}
		//生成长度的函数len表示生成的div个数
		function addTen(len) {
			for(var j = 0; j < len; j++) {
				addElement();
			}
		}
		//图片预加载
		var imgArr = [];
		var num =0;
		for(var j =0 ;j<imgList.length;j++)
			{
				imgArr[j] = new Image(); 
				imgArr[j].src=imgList[j];

				imgArr[j].onload = function() {
					num++;
					if(num == imgList.length) {
						addTen(10);
					}
				}
			}
		//每次次滑动条滚动
		window.onscroll = function()
			{
				if (flowList.getBoundingClientRect().bottom < document.documentElement.clientHeight) 
					{
						addTen(10);
					};
			}
		
	</script>
</body>
</html>